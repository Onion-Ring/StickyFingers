@if(delete()){
<app-backdrop (click)="onCloseModal()"></app-backdrop>
<div app-delete-window message="Are you sure you want to delete '{{noteTitle}}' ? This action can't be undone">
    <button class="btn-confirmation" (click)="onDeleteNote()">Yes</button>
    <button class="btn-decline" (click)="onCloseModal()">No</button>
</div>
}@else if (clearNotes()) {

<app-backdrop (click)="onCloseModal()"></app-backdrop>
<div app-delete-window message="Are you sure you want to clear the notes list? This action can't be undone">
    <button class="btn-confirmation" (click)="onDeleteNotes()">Yes</button>
    <button class="btn-decline" (click)="onCloseModal()">No</button>
</div>

}

<section class="note-list-section">

    <h2 class="note-list-section__title">Your notes</h2>
    <hr class="note-list-section__separator" />

    <div class="note-list-section__priority-filter">
        <h3 class="note-list-section__priority-filter__title">Filter by priority</h3>
        <select class="note-list-section__priority-filter__select" (change)="onPrioritySelect()" #filterSelect>
            <option selected>Select a value</option>
            <option value="Low">Low</option>
            <option value="Medium">Medium</option>
            <option value="High">High</option>
        </select>
    </div>

    <div class="note-list-section__title-filter">
        <img class="note-list-section__title-filter__img" alt="search icon" src="/assets/icons/search.svg">
        <input class="note-list-section__title-filter__input" name="titleFilter" id="titleFilter" type="text"
            [(ngModel)]="title" placeholder="Filter by title" />
    </div>

    @if(notes().length > 0){
        <button class="note-list-section__clear-notes" (click)="onClearNotes()">
            Delete all notes
        </button>
    }
        

    <div class="note-list-section__notes">
        @for (noteItem of notes(); track noteItem.id) {
        <app-note [note]="noteItem" (openDeleteModal)="onOpenDeleteModal($event)" />
        }@empty {
        @if(retrievedResults){
        <p class="note-list-section__notes__list-empty">You have not created any note so far</p>
        } @else {
        <p class="note-list-section__notes__list-empty">The search did not retrieve any results</p>
        }
        }
    </div>

</section>